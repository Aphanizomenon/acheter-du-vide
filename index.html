<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- ðŸ§  SEO de base -->
  <title>Achetez du Vide â€“ IdÃ©e Cadeau Originale pour Black Friday, NoÃ«l, etc.</title>
  <meta name="description" content="Offrez du vide pour 5â‚¬. Une idÃ©e cadeau drÃ´le et minimaliste pour le Black Friday, NoÃ«l, PÃ¢ques ou tout autre Ã©vÃ©nement. Parce que le rien, câ€™est tout.">
  <meta name="keywords" content="cadeau vide, idÃ©e cadeau drÃ´le, black friday, noÃ«l, pÃ¢ques, humour, minimalisme, achetez du vide">

  <!-- ðŸ”— Open Graph (partages rÃ©seaux sociaux) -->
  <meta property="og:title" content="Achetez du Vide â€“ Cadeau Original Ã  5â‚¬">
  <meta property="og:description" content="Offrez du vide, un concept absurde et gÃ©nial Ã  5â‚¬. IdÃ©al pour le Black Friday, NoÃ«l ou toute occasion.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://achetezduvide.vercel.app">
  <meta property="og:image" content="https://achetezduvide.vercel.app/vide.jpg">

  <!-- ðŸ§­ SEO cachÃ© (contenu contextuel) -->
  <div style="position:absolute; left:-9999px;">
    Achetez du vide â€“ le cadeau parfait pour le Black Friday,Halloween, NoÃ«l, PÃ¢ques, la Saint-Valentin ou un anniversaire.
    Offrez rien, vraiment rien, mais avec style.
  </div>

  <!-- ðŸ§© Favicon par dÃ©faut -->
  <link id="favicon" rel="icon" href="/favicon.png" type="image/png">

  <!-- ðŸ•“ Script pour actualiser automatiquement le titre/description selon la saison -->
  <script>
    const now = new Date();
    const month = now.getMonth();
    let event = "";
    let faviconEmoji = "";

    if (month === 9) event = "Halloween ðŸŽƒ";
    else if (month === 10) event = "Black Friday ðŸ’¸";
    else if (month === 11 || month === 0) event = "NoÃ«l ðŸŽ„";
    else if (month === 0 || month === 1) event = "Saint Valentin";
    else if (month === 3) event = "PÃ¢ques ðŸ£";
    else if (month === 4) event = "FÃªte des MÃ¨res";
    else if (month === 5) event = "FÃªte des PÃ¨res";

    // Change le titre
    if (event) {
      document.title = `Achetez du Vide â€“ IdÃ©e Cadeau ${event}`;
      const metaDesc = document.querySelector('meta[name="description"]');
      if (metaDesc)
        metaDesc.setAttribute(
          "content",
          `Offrez du vide pour 5â‚¬. Un cadeau ${event} drÃ´le et minimaliste.`
        );
    }

    // GÃ©nÃ¨re un favicon dynamique Ã  partir de lâ€™emoji
    window.addEventListener("DOMContentLoaded", () => {
      if (faviconEmoji) {
        const canvas = document.createElement("canvas");
        canvas.width = 64;
        canvas.height = 64;
        const ctx = canvas.getContext("2d");
        ctx.font = "48px serif";
        ctx.fillText(faviconEmoji, 8, 48);
        const favicon = document.getElementById("favicon");
        favicon.href = canvas.toDataURL();
      }
    });
  </script>

  <style>
     html, body {
      height: 100%;
      margin: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      background-color: #fff;
      color: #000;
    }
    header {
      text-align: center;
      padding: 1.5rem 1rem;
      font-size: 1.1rem;
      font-weight: 500;
    }
    main {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    button {
      font-size: 1.5rem;
      padding: 1rem 2rem;
      border: 2px solid black;
      background: none;
      cursor: pointer;
      transition: 0.2s;
      border-radius: 8px;
    }
    button:hover {
      background-color: #F54927;
      color: white;
    }
    footer {
      text-align: center;
      padding: 1rem;
    }
  </style>
</head>

<body>
  <header>
    <p>Projet artistique minimaliste : expÃ©rience dâ€™achat symbolique</p>
  </header>
<main>
    <button id="checkout-button">Achetez du vide â€“ 5â‚¬</button>
  </main>
  <script src="https://js.stripe.com/v3/"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const button = document.getElementById("checkout-button");
      const stripe = Stripe("pk_live_51SNAKI1fbg8frK0TYDcid8vhQ2zqIKd0X2T7zxaVMWqHxiiydtwsVraswuYv1oME7JcYNzi2KbvAVwDXjM8ayxZE00Lqlxo4ck");

      button.addEventListener("click", async (e) => {
        e.preventDefault(); // Ã©vite le rechargement de la page

        try {
          const response = await fetch("/api/checkout", { method: "POST" });
          const session = await response.json();

          if (!session.id) throw new Error("Pas d'ID de session Stripe reÃ§u");

          const result = await stripe.redirectToCheckout({ sessionId: session.id });
          if (result.error) alert(result.error.message);
        } catch (err) {
          alert("Erreur : " + err.message);
          console.error(err);
        }
      });
    });
  </script>
<footer>
<footer>
    <iframe
      width="380"
      height="38"
      style="border:0;"
      src="https://climate.stripe.com/badge/jAVYV8?theme=light&size=small&locale=fr-FR"
      title="Stripe Climate Badge">
    </iframe>
  </footer></footer>
</body>
</html>

